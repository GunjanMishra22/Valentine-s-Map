<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Premium Poster Generator</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Arial,sans-serif;background:#f8f9fa;color:#2c3e50}.header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:30px 20px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,.15)}.header h1{font-size:32px;margin-bottom:8px;font-weight:700}.header p{font-size:16px;opacity:.95}.container{max-width:1600px;margin:0 auto;padding:30px 20px}.grid{display:grid;grid-template-columns:380px 1fr;gap:30px}.panel{background:#fff;border-radius:16px;padding:28px;box-shadow:0 2px 12px rgba(0,0,0,.08);margin-bottom:24px}.panel h2{font-size:20px;margin-bottom:20px;color:#2c3e50;font-weight:600;border-bottom:2px solid #e9ecef;padding-bottom:12px}.btn-group{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.btn{padding:14px;border:2px solid #e0e0e0;border-radius:10px;background:#fff;cursor:pointer;transition:all .3s;font-size:13px;text-align:center;font-weight:500}.btn:hover{border-color:#667eea;transform:translateY(-2px);box-shadow:0 4px 8px rgba(102,126,234,.2)}.btn.active{border-color:#667eea;background:linear-gradient(135deg,#667eea15,#764ba215);color:#667eea;font-weight:600}.form-group{margin-bottom:18px}.form-group label{display:block;font-size:14px;font-weight:600;margin-bottom:10px;color:#495057}.form-group input,.form-group select{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;font-size:14px;transition:all .3s}.form-group input:focus,.form-group select:focus{outline:0;border-color:#667eea;box-shadow:0 0 0 4px rgba(102,126,234,.1)}.theme-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}.export-btn{width:100%;padding:16px;border:none;border-radius:10px;font-size:15px;font-weight:600;cursor:pointer;margin-bottom:10px;transition:all .3s}.export-btn.primary{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.export-btn.primary:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(102,126,234,.4)}.export-btn.secondary{background:#6c757d;color:#fff}.export-btn.secondary:hover{background:#5a6268}.canvas-container{background:#fff;border-radius:16px;padding:30px;box-shadow:0 2px 12px rgba(0,0,0,.08);display:flex;justify-content:center;align-items:center}#posterCanvas{max-width:100%;height:auto;border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,.12)}@media(max-width:1200px){.grid{grid-template-columns:1fr}}</style></head><body><div class="header"><h1>‚ú® Premium Poster Generator</h1><p>Create stunning map, star map, and typography posters</p></div><div class="container"><div class="grid"><div><div class="panel"><h2>üé® Poster Type</h2><div class="btn-group"><button class="btn active"onclick="setPosterType('map')"id="btn-map">üó∫Ô∏è<br>Map</button><button class="btn"onclick="setPosterType('star')"id="btn-star">‚≠ê<br>Stars</button><button class="btn"onclick="setPosterType('text')"id="btn-text">üìù<br>Text</button></div></div><div class="panel"><h2>üìç Location</h2><button class="export-btn primary"onclick="useMyLocation()"id="gpsBtn">üìç Use My GPS</button><div style="text-align:center;margin:16px 0;color:#868e96;font-size:13px;font-weight:500">‚Äî OR ‚Äî</div><div class="form-group"><label>Search Location</label><input type="text"id="locationSearch"placeholder="Enter city..."oninput="handleLocationInput()"><div id="locationSuggestions"style="display:none;max-height:240px;overflow-y:auto;border:2px solid #e0e0e0;border-radius:10px;margin-top:10px;background:#fff"></div></div><div id="currentLocationDisplay"style="background:linear-gradient(135deg,#667eea15,#764ba215);padding:16px;border-radius:10px;margin-top:16px;font-size:13px;display:none;border:2px solid #667eea30"><strong style="color:#667eea">Current:</strong><br><span id="locationDisplayText"style="color:#495057"></span></div><div id="starControls"style="display:none;margin-top:20px"><div class="form-group"><label>üìÖ Date</label><input type="date"id="dateInput"value="2024-01-01"onchange="drawPoster()"></div><div class="form-group"><label>‚è∞ Time</label><input type="time"id="timeInput"value="20:00"onchange="drawPoster()"></div></div><div id="mapControls"style="margin-top:20px"><div class="form-group"><label>üîç Zoom</label><input type="range"id="zoomInput"min="1"max="5"value="3"step="0.5"oninput="updateZoom()"><div style="text-align:center;margin-top:8px;font-size:13px;color:#6c757d">Level: <span id="zoomValue">3.0</span>x</div></div></div></div><div class="panel"><h2>‚úèÔ∏è Text</h2><div class="form-group"><label>Title</label><input type="text"id="titleInput"value="NEW YORK"oninput="drawPoster()"></div><div class="form-group"><label>Subtitle</label><input type="text"id="subtitleInput"value="40.7128¬∞ N, 74.0060¬∞ W"oninput="drawPoster()"></div><div class="form-group"><label>Tagline</label><input type="text"id="messageInput"placeholder="Optional..."oninput="drawPoster()"></div></div><div class="panel"><h2>üé® Theme</h2><div class="theme-grid"><button class="btn active"onclick="setTheme('classic')"id="theme-classic">Classic</button><button class="btn"onclick="setTheme('modern')"id="theme-modern">Modern</button><button class="btn"onclick="setTheme('vintage')"id="theme-vintage">Vintage</button><button class="btn"onclick="setTheme('minimal')"id="theme-minimal">Minimal</button><button class="btn"onclick="setTheme('nightsky')"id="theme-nightsky">Night Sky</button><button class="btn"onclick="setTheme('cyberpunk')"id="theme-cyberpunk">Cyberpunk</button></div></div><div class="panel"><h2>üé® Custom</h2><div class="form-group"><label>Background</label><input type="color"id="bgColor"style="height:50px"onchange="applyCustomColors()"></div><div class="form-group"><label>Primary</label><input type="color"id="fgColor"style="height:50px"onchange="applyCustomColors()"></div></div><div class="panel"><h2>üíæ Export</h2><button class="export-btn primary"onclick="exportPoster('png')">‚¨áÔ∏è Download PNG</button><button class="export-btn secondary"onclick="exportPoster('jpeg')">‚¨áÔ∏è Download JPEG</button></div></div><div><div class="canvas-container"><canvas id="posterCanvas"width="2480"height="3508"></canvas></div></div></div></div><script>const brightStars=[{name:'Sirius',ra:6.75,dec:-16.72,mag:-1.46},{name:'Canopus',ra:6.4,dec:-52.7,mag:-.72},{name:'Arcturus',ra:14.26,dec:19.18,mag:-.05},{name:'Vega',ra:18.62,dec:38.78,mag:.03},{name:'Capella',ra:5.28,dec:45.99,mag:.08},{name:'Rigel',ra:5.24,dec:-8.2,mag:.12},{name:'Procyon',ra:7.66,dec:5.23,mag:.38},{name:'Betelgeuse',ra:5.92,dec:7.41,mag:.5},{name:'Altair',ra:19.85,dec:8.87,mag:.77},{name:'Aldebaran',ra:4.6,dec:16.51,mag:.85},{name:'Spica',ra:13.42,dec:-11.16,mag:.98},{name:'Antares',ra:16.49,dec:-26.43,mag:1.06},{name:'Pollux',ra:7.76,dec:28.03,mag:1.14},{name:'Deneb',ra:20.69,dec:45.28,mag:1.25}];let state={posterType:'map',theme:'classic',zoom:3,customLocation:{lat:40.7128,lon:-74.006,name:'New York'},mapData:null,customBg:null,customFg:null};const themes={classic:{bg:'#FFFFFF',fg:'#1a1a1a',accent:'#666',text:'#000',line:2},modern:{bg:'#F8F9FA',fg:'#2C3E50',accent:'#667eea',text:'#2C3E50',line:2.5},vintage:{bg:'#F4E8D8',fg:'#5D4E37',accent:'#8B7355',text:'#3E2723',line:1.8},minimal:{bg:'#FAFAFA',fg:'#212121',accent:'#9E9E9E',text:'#424242',line:1.5},nightsky:{bg:'#0A1128',fg:'#E8EAF6',accent:'#5C6BC0',text:'#FFF',line:2},cyberpunk:{bg:'#0D0221',fg:'#00FFF5',accent:'#FF006E',text:'#00FFF5',line:3}};let locTimeout;async function fetchMapData(lat,lon){try{const r=state.zoom*.015,b=`${lat-r},${lon-r},${lat+r},${lon+r}`,q=`[out:json][timeout:30];(way["highway"](${b});way["waterway"](${b});way["railway"](${b}););out geom;`,res=await fetch(`https://overpass-api.de/api/interpreter?data=${encodeURIComponent(q)}`),d=await res.json();state.mapData={lat,lon,elements:d.elements.filter(e=>e.geometry&&e.geometry.length>1)};drawPoster()}catch(e){console.error(e);state.mapData=null;drawPoster()}}function updateZoom(){state.zoom=parseFloat(document.getElementById('zoomInput').value);document.getElementById('zoomValue').textContent=state.zoom.toFixed(1);if(state.customLocation)fetchMapData(state.customLocation.lat,state.customLocation.lon)}function useMyLocation(){const btn=document.getElementById('gpsBtn');btn.disabled=!0;btn.textContent='üìç Getting...';if(!navigator.geolocation){alert('GPS not supported');btn.disabled=!1;btn.textContent='üìç Use My GPS';return}navigator.geolocation.getCurrentPosition(async p=>{const lat=p.coords.latitude,lon=p.coords.longitude;btn.textContent='‚úÖ Found!';try{const r=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lon}&format=json`),d=await r.json(),n=d.address.city||d.address.town||d.address.village||'Your Location';state.customLocation={lat,lon,name:n};updateLocationDisplay(n,lat,lon);document.getElementById('titleInput').value=n.toUpperCase();document.getElementById('subtitleInput').value=`${lat.toFixed(4)}¬∞ ${lat>0?'N':'S'}, ${Math.abs(lon).toFixed(4)}¬∞ ${lon>0?'E':'W'}`;fetchMapData(lat,lon)}catch(e){state.customLocation={lat,lon,name:'Your Location'};updateLocationDisplay('Your Location',lat,lon);fetchMapData(lat,lon)}setTimeout(()=>{btn.disabled=!1;btn.textContent='üìç Use My GPS'},2e3)},e=>{btn.disabled=!1;btn.textContent='üìç Use My GPS';alert('Location error: '+e.message)})}function updateLocationDisplay(n,lat,lon){document.getElementById('locationDisplayText').innerHTML=`<strong>${n}</strong><br>${lat.toFixed(4)}¬∞, ${lon.toFixed(4)}¬∞`;document.getElementById('currentLocationDisplay').style.display='block'}async function handleLocationInput(){const q=document.getElementById('locationSearch').value.trim();if(q.length<3){document.getElementById('locationSuggestions').style.display='none';return}clearTimeout(locTimeout);locTimeout=setTimeout(async()=>{try{const r=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(q)}&format=json&limit=6`),res=await r.json();if(res.length>0)displayLocationSuggestions(res)}catch(e){console.error(e)}},400)}function displayLocationSuggestions(results){const c=document.getElementById('locationSuggestions');c.innerHTML='';c.style.display='block';results.forEach(r=>{const d=document.createElement('div');d.style.padding='14px';d.style.cursor='pointer';d.style.borderBottom='1px solid #f0f0f0';d.style.fontSize='13px';d.textContent=r.display_name;d.onmouseover=()=>d.style.background='#f8f9fa';d.onmouseout=()=>d.style.background='white';d.onclick=()=>selectLocation(r);c.appendChild(d)})}function selectLocation(loc){state.customLocation={lat:parseFloat(loc.lat),lon:parseFloat(loc.lon),name:loc.display_name.split(',')[0]};document.getElementById('locationSearch').value=loc.display_name;document.getElementById('locationSuggestions').style.display='none';updateLocationDisplay(state.customLocation.name,state.customLocation.lat,state.customLocation.lon);document.getElementById('titleInput').value=state.customLocation.name.toUpperCase();document.getElementById('subtitleInput').value=`${state.customLocation.lat.toFixed(4)}¬∞, ${state.customLocation.lon.toFixed(4)}¬∞`;fetchMapData(state.customLocation.lat,state.customLocation.lon)}function setPosterType(t){state.posterType=t;document.querySelectorAll('.btn-group .btn').forEach(b=>b.classList.remove('active'));document.getElementById(`btn-${t}`).classList.add('active');document.getElementById('starControls').style.display=t==='star'?'block':'none';document.getElementById('mapControls').style.display=t==='map'?'block':'none';drawPoster()}function setTheme(t){state.theme=t;state.customBg=null;state.customFg=null;document.querySelectorAll('.theme-grid .btn').forEach(b=>b.classList.remove('active'));document.getElementById(`theme-${t}`).classList.add('active');const col=themes[t];document.getElementById('bgColor').value=col.bg;document.getElementById('fgColor').value=col.fg;drawPoster()}function applyCustomColors(){state.customBg=document.getElementById('bgColor').value;state.customFg=document.getElementById('fgColor').value;drawPoster()}function drawPoster(){const c=document.getElementById('posterCanvas'),ctx=c.getContext('2d'),w=c.width,h=c.height;let col={...themes[state.theme]};if(state.customBg)col.bg=state.customBg;if(state.customFg)col.fg=state.customFg;ctx.fillStyle=col.bg;ctx.fillRect(0,0,w,h);if(state.posterType==='map')drawMapPoster(ctx,w,h,col);else if(state.posterType==='star')drawStarPoster(ctx,w,h,col);else drawTypographyPoster(ctx,w,h,col)}function drawMapPoster(ctx,w,h,col){const cx=w/2,cy=h*.42,mapW=w-200,mapH=h*.5;ctx.save();ctx.beginPath();ctx.rect(100,100,mapW,mapH);ctx.clip();if(state.mapData&&state.mapData.elements.length>0){const loc=state.customLocation,ms=14e4*state.zoom;ctx.translate(cx,cy);if(col.line>2.5){ctx.shadowBlur=30;ctx.shadowColor=col.fg}state.mapData.elements.forEach((e,idx)=>{if(!e.geometry||e.geometry.length<2)return;const isWater=e.tags&&e.tags.waterway;ctx.strokeStyle=col.fg;ctx.lineWidth=isWater?col.line*1.2:col.line;ctx.lineCap='round';ctx.lineJoin='round';if(isWater)ctx.globalAlpha=.6;ctx.beginPath();e.geometry.forEach((c,i)=>{const x=(c.lon-loc.lon)*ms*Math.cos(loc.lat*Math.PI/180),y=-(c.lat-loc.lat)*ms;if(i===0)ctx.moveTo(x,y);else ctx.lineTo(x,y)});ctx.stroke();ctx.globalAlpha=1});if(col.line>2.5)ctx.shadowBlur=0;ctx.fillStyle=col.accent;ctx.beginPath();ctx.arc(0,0,28,0,Math.PI*2);ctx.fill();ctx.fillStyle=col.bg;ctx.beginPath();ctx.arc(0,0,18,0,Math.PI*2);ctx.fill();ctx.fillStyle=col.fg;ctx.beginPath();ctx.arc(0,0,12,0,Math.PI*2);ctx.fill()}else{ctx.fillStyle=col.accent;ctx.textAlign='center';ctx.font='bold 38px Arial';ctx.fillText('Loading map...',cx,cy)}ctx.restore();drawPosterLabels(ctx,w,h,col)}function drawStarPoster(ctx,w,h,col){const loc=state.customLocation,date=new Date(`${document.getElementById('dateInput').value}T${document.getElementById('timeInput').value}:00`);ctx.fillStyle=col.bg;ctx.fillRect(0,0,w,h*.7);for(let i=0;i<1200;i++){const x=Math.random()*w,y=Math.random()*h*.7,tier=Math.random();let sz,alpha;if(tier<.05){sz=Math.random()*1.5+1;alpha=.85+Math.random()*.15}else if(tier<.15){sz=Math.random()*1.2+.6;alpha=.6+Math.random()*.2}else if(tier<.35){sz=Math.random()*.9+.4;alpha=.4+Math.random()*.2}else{sz=Math.random()*.6+.2;alpha=.25+Math.random()*.15}ctx.fillStyle=`rgba(255,255,255,${alpha})`;ctx.beginPath();ctx.arc(x,y,sz,0,Math.PI*2);ctx.fill();if(tier<.02){for(let j=0;j<4;j++){const angle=j*Math.PI/2;ctx.beginPath();ctx.moveTo(x,y);ctx.lineTo(x+Math.cos(angle)*sz*4,y+Math.sin(angle)*sz*4);ctx.strokeStyle=`rgba(255,255,255,${alpha*.6})`;ctx.lineWidth=.5;ctx.stroke()}}}const stars=calculateStarPositions(loc.lat,loc.lon,date,w,h);ctx.strokeStyle='rgba(180,200,255,0.4)';ctx.lineWidth=2;const vis=stars.filter(s=>s.x>=50&&s.x<=w-50&&s.y>=50&&s.y<=h*.7-50);for(let i=0;i<vis.length;i++){for(let j=i+1;j<vis.length;j++){const s1=vis[i],s2=vis[j],d=Math.sqrt((s1.x-s2.x)**2+(s1.y-s2.y)**2);if(d<350&&s1.mag<1.2&&s2.mag<1.2){ctx.beginPath();ctx.moveTo(s1.x,s1.y);ctx.lineTo(s2.x,s2.y);ctx.stroke()}}}stars.forEach(s=>{if(s.x>=0&&s.x<=w&&s.y>=0&&s.y<=h*.7){const sz=Math.max(6,16-s.mag*3.5);ctx.fillStyle='rgba(255,255,255,0.3)';ctx.beginPath();ctx.arc(s.x,s.y,sz*2.5,0,Math.PI*2);ctx.fill();ctx.fillStyle='#FFFFFF';ctx.beginPath();ctx.arc(s.x,s.y,sz,0,Math.PI*2);ctx.fill();for(let i=0;i<4;i++){const angle=i*Math.PI/2+Math.PI/4;ctx.beginPath();ctx.moveTo(s.x,s.y);ctx.lineTo(s.x+Math.cos(angle)*sz*3,s.y+Math.sin(angle)*sz*3);ctx.strokeStyle='rgba(255,255,255,0.7)';ctx.lineWidth=1.5;ctx.stroke()}if(s.mag<.6&&s.name){ctx.fillStyle='rgba(255,255,255,0.95)';ctx.font='bold 28px Arial';ctx.textAlign='center';ctx.fillText(s.name,s.x,s.y-sz*3-15)}}});drawPosterLabels(ctx,w,h,col)}function calculateStarPositions(lat,lon,date,cw,ch){const jd=date.getTime()/864e5+2440587.5;let theta=280.46061837+360.98564736629*(jd-2451545);theta=theta%360;if(theta<0)theta+=360;const lst=(theta+lon)%360/15,pos=[];brightStars.forEach(s=>{const ha=lst-s.ra,har=ha*15*Math.PI/180,decr=s.dec*Math.PI/180,latr=lat*Math.PI/180,sinAlt=Math.sin(decr)*Math.sin(latr)+Math.cos(decr)*Math.cos(latr)*Math.cos(har),alt=Math.asin(sinAlt)*180/Math.PI;if(alt>-5){const altr=alt*Math.PI/180,cosAz=(Math.sin(decr)-Math.sin(altr)*Math.sin(latr))/(Math.cos(altr)*Math.cos(latr));let az=Math.acos(Math.max(-1,Math.min(1,cosAz)))*180/Math.PI;if(Math.sin(har)>0)az=360-az;const ps=ch*.3,r=ps*(90-alt)/90,th=az*Math.PI/180;pos.push({x:cw/2+r*Math.sin(th),y:ch*.3-r*Math.cos(th),mag:s.mag,name:s.name})}});return pos}function drawTypographyPoster(ctx,w,h,col){const title=document.getElementById('titleInput').value,subtitle=document.getElementById('subtitleInput').value;if(col.line>2.5){ctx.shadowBlur=25;ctx.shadowColor=col.fg;ctx.strokeStyle=col.fg;ctx.lineWidth=4;for(let i=0;i<7;i++)ctx.strokeRect(120+i*70,120+i*70,w-240-i*140,h-240-i*140);ctx.shadowBlur=0}else{ctx.strokeStyle=col.accent;ctx.lineWidth=col.line===1.5?1.5:3;for(let i=0;i<9;i++){const offs=i*90;ctx.strokeRect(100+offs,100+offs,w-200-offs*2,h-200-offs*2)}}ctx.font='bold 180px Arial';ctx.textAlign='center';ctx.textBaseline='middle';const titleWidth=ctx.measureText(title).width;ctx.fillStyle=col.fg+'15';ctx.fillRect(w/2-titleWidth/2-50,h/2-140,titleWidth+100,200);ctx.fillStyle=col.fg;ctx.fillText(title,w/2,h/2-80);ctx.font='60px Arial';const subWidth=ctx.measureText(subtitle).width;ctx.fillStyle=col.fg+'15';ctx.fillRect(w/2-subWidth/2-40,h/2+40,subWidth+80,100);ctx.fillStyle=col.accent;ctx.fillText(subtitle,w/2,h/2+90);drawPosterLabels(ctx,w,h,col)}function drawPosterLabels(ctx,w,h,col){const title=document.getElementById('titleInput').value,subtitle=document.getElementById('subtitleInput').value,msg=document.getElementById('messageInput').value;ctx.font='bold 72px Arial';ctx.textAlign='center';ctx.textBaseline='middle';const titleWidth=ctx.measureText(title).width;if(col.line>2.5)ctx.shadowBlur=15;ctx.fillStyle=col.fg+'15';ctx.fillRect(w/2-titleWidth/2-40,h-340,titleWidth+80,100);ctx.shadowBlur=0;ctx.fillStyle=col.text;ctx.fillText(title,w/2,h-290);ctx.font='36px Arial';const subWidth=ctx.measureText(subtitle).width;ctx.fillStyle=col.fg+'15';ctx.fillRect(w/2-subWidth/2-30,h-220,subWidth+60,70);ctx.fillStyle=col.accent;ctx.fillText(subtitle,w/2,h-185);if(msg){ctx.font='italic 28px Georgia';const msgWidth=ctx.measureText(msg).width;ctx.fillStyle=col.fg+'10';ctx.fillRect(w/2-msgWidth/2-25,h-130,msgWidth+50,50);ctx.fillStyle=col.accent;ctx.fillText(msg,w/2,h-105)}ctx.strokeStyle=col.fg;ctx.lineWidth=6;ctx.strokeRect(40,40,w-80,h-80)}function exportPoster(fmt){const c=document.getElementById('posterCanvas'),l=document.createElement('a');l.download=`poster_${Date.now()}.${fmt}`;l.href=c.toDataURL(`image/${fmt}`,1);l.click()}fetchMapData(state.customLocation.lat,state.customLocation.lon)</script></body></html>
