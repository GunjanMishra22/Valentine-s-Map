<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Poster Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        .header {
            background: white;
            border-bottom: 1px solid #e0e0e0;
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .header p {
            color: #666;
            font-size: 14px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .grid {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 20px;
        }

        .panel {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }

        .panel h2 {
            font-size: 18px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-group {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .btn {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 12px;
            text-align: center;
        }

        .btn:hover {
            border-color: #999;
        }

        .btn.active {
            border-color: #2563eb;
            background: #eff6ff;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            color: #333;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 12px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .theme-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .export-btn {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 8px;
        }

        .export-btn.primary {
            background: #2563eb;
            color: white;
        }

        .export-btn.primary:hover {
            background: #1d4ed8;
        }

        .export-btn.secondary {
            background: #6b7280;
            color: white;
        }

        .export-btn.secondary:hover {
            background: #4b5563;
        }

        .canvas-container {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #posterCanvas {
            max-width: 100%;
            height: auto;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        @media (max-width: 1024px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }

        .icon {
            width: 20px;
            height: 20px;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üé® Custom Poster Generator</h1>
        <p>Create beautiful map, star, and typography posters</p>
    </div>

    <div class="container">
        <div class="grid">
            <!-- Controls -->
            <div>
                <!-- Poster Type -->
                <div class="panel">
                    <h2>üìã Poster Type</h2>
                    <div class="btn-group">
                        <button class="btn active" onclick="setPosterType('map')" id="btn-map">
                            üó∫Ô∏è<br>Map
                        </button>
                        <button class="btn" onclick="setPosterType('star')" id="btn-star">
                            ‚≠ê<br>Stars
                        </button>
                        <button class="btn" onclick="setPosterType('text')" id="btn-text">
                            üìù<br>Text
                        </button>
                    </div>
                </div>

                <!-- Location -->
                <div class="panel">
                    <h2>üìç Location</h2>
                    <div class="form-group">
                        <label>City</label>
                        <select id="citySelect" onchange="handleCityChange()">
                            <option value="0">New York, USA</option>
                            <option value="1">London, UK</option>
                            <option value="2">Paris, France</option>
                            <option value="3">Tokyo, Japan</option>
                            <option value="4">Sydney, Australia</option>
                            <option value="5">Dubai, UAE</option>
                            <option value="6">Los Angeles, USA</option>
                            <option value="7">Barcelona, Spain</option>
                            <option value="8">Rome, Italy</option>
                            <option value="9">Mumbai, India</option>
                        </select>
                    </div>
                    <div id="starControls" style="display: none;">
                        <div class="form-group">
                            <label>Date</label>
                            <input type="date" id="dateInput" value="2024-01-01" onchange="drawPoster()">
                        </div>
                        <div class="form-group">
                            <label>Time</label>
                            <input type="time" id="timeInput" value="20:00" onchange="drawPoster()">
                        </div>
                    </div>
                </div>

                <!-- Text -->
                <div class="panel">
                    <h2>‚úèÔ∏è Text</h2>
                    <div class="form-group">
                        <label>Title</label>
                        <input type="text" id="titleInput" value="NEW YORK" oninput="drawPoster()">
                    </div>
                    <div class="form-group">
                        <label>Subtitle</label>
                        <input type="text" id="subtitleInput" value="40.7128¬∞ N, 74.0060¬∞ W" oninput="drawPoster()">
                    </div>
                    <div class="form-group">
                        <label>Font Size: <span id="fontSizeValue">48</span>px</label>
                        <input type="range" id="fontSizeInput" min="24" max="72" value="48" oninput="updateFontSize()">
                    </div>
                </div>

                <!-- Theme -->
                <div class="panel">
                    <h2>üé® Theme</h2>
                    <div class="theme-grid">
                        <button class="btn active" onclick="setTheme('light')" id="theme-light">Light</button>
                        <button class="btn" onclick="setTheme('dark')" id="theme-dark">Dark</button>
                        <button class="btn" onclick="setTheme('blue')" id="theme-blue">Blue</button>
                        <button class="btn" onclick="setTheme('beige')" id="theme-beige">Beige</button>
                    </div>
                    <div class="checkbox-group" id="gridToggle">
                        <input type="checkbox" id="showGrid" checked onchange="drawPoster()">
                        <label for="showGrid">Show Grid</label>
                    </div>
                </div>

                <!-- Export -->
                <div class="panel">
                    <h2>üíæ Export</h2>
                    <button class="export-btn primary" onclick="exportPoster('png')">Download PNG</button>
                    <button class="export-btn secondary" onclick="exportPoster('jpeg')">Download JPEG</button>
                </div>
            </div>

            <!-- Canvas -->
            <div>
                <div class="canvas-container">
                    <canvas id="posterCanvas" width="2480" height="3508"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        const cities = [
            { name: 'New York', lat: 40.7128, lon: -74.0060, country: 'USA' },
            { name: 'London', lat: 51.5074, lon: -0.1278, country: 'UK' },
            { name: 'Paris', lat: 48.8566, lon: 2.3522, country: 'France' },
            { name: 'Tokyo', lat: 35.6762, lon: 139.6503, country: 'Japan' },
            { name: 'Sydney', lat: -33.8688, lon: 151.2093, country: 'Australia' },
            { name: 'Dubai', lat: 25.2048, lon: 55.2708, country: 'UAE' },
            { name: 'Los Angeles', lat: 34.0522, lon: -118.2437, country: 'USA' },
            { name: 'Barcelona', lat: 41.3851, lon: 2.1734, country: 'Spain' },
            { name: 'Rome', lat: 41.9028, lon: 12.4964, country: 'Italy' },
            { name: 'Mumbai', lat: 19.0760, lon: 72.8777, country: 'India' }
        ];

        const constellations = [
            { name: 'Ursa Major', stars: [[100, 80], [140, 90], [180, 85], [220, 95], [260, 100], [240, 140], [200, 150]] },
            { name: 'Orion', stars: [[400, 300], [420, 280], [440, 300], [460, 320], [420, 350], [440, 370], [400, 360]] },
            { name: 'Cassiopeia', stars: [[600, 120], [640, 140], [680, 130], [720, 150], [760, 140]] }
        ];

        let state = {
            posterType: 'map',
            currentCity: 0,
            theme: 'light',
            fontSize: 48
        };

        const themes = {
            light: { bg: '#FFFFFF', fg: '#000000', accent: '#666666' },
            dark: { bg: '#000000', fg: '#FFFFFF', accent: '#999999' },
            blue: { bg: '#001F3F', fg: '#FFFFFF', accent: '#7FDBFF' },
            beige: { bg: '#F5F5DC', fg: '#2C2416', accent: '#8B7355' }
        };

        function setPosterType(type) {
            state.posterType = type;
            
            document.querySelectorAll('.btn-group .btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${type}`).classList.add('active');
            
            document.getElementById('starControls').style.display = type === 'star' ? 'block' : 'none';
            document.getElementById('gridToggle').style.display = type === 'map' ? 'flex' : 'none';
            
            drawPoster();
        }

        function setTheme(theme) {
            state.theme = theme;
            
            document.querySelectorAll('.theme-grid .btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`theme-${theme}`).classList.add('active');
            
            drawPoster();
        }

        function handleCityChange() {
            state.currentCity = parseInt(document.getElementById('citySelect').value);
            const city = cities[state.currentCity];
            
            document.getElementById('titleInput').value = city.name.toUpperCase();
            document.getElementById('subtitleInput').value = 
                `${city.lat.toFixed(4)}¬∞ ${city.lat > 0 ? 'N' : 'S'}, ${Math.abs(city.lon).toFixed(4)}¬∞ ${city.lon > 0 ? 'E' : 'W'}`;
            
            drawPoster();
        }

        function updateFontSize() {
            state.fontSize = parseInt(document.getElementById('fontSizeInput').value);
            document.getElementById('fontSizeValue').textContent = state.fontSize;
            drawPoster();
        }

        function drawPoster() {
            const canvas = document.getElementById('posterCanvas');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;

            const colors = themes[state.theme];

            ctx.fillStyle = colors.bg;
            ctx.fillRect(0, 0, width, height);

            if (state.posterType === 'map') {
                drawMapPoster(ctx, width, height, colors);
            } else if (state.posterType === 'star') {
                drawStarPoster(ctx, width, height, colors);
            } else {
                drawTypographyPoster(ctx, width, height, colors);
            }
        }

        function drawMapPoster(ctx, width, height, colors) {
            const centerX = width / 2;
            const centerY = height / 2;
            const scale = 3;

            ctx.strokeStyle = colors.fg;
            ctx.lineWidth = 2;

            for (let i = 1; i <= 5; i++) {
                ctx.beginPath();
                ctx.arc(centerX, centerY, i * 60 * scale, 0, Math.PI * 2);
                ctx.stroke();
            }

            if (document.getElementById('showGrid').checked) {
                const gridSize = 40 * scale;
                ctx.strokeStyle = colors.accent;
                ctx.lineWidth = 1;
                
                for (let x = 0; x < width; x += gridSize) {
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, height);
                    ctx.stroke();
                }
                
                for (let y = 0; y < height; y += gridSize) {
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(width, y);
                    ctx.stroke();
                }
            }

            ctx.strokeStyle = colors.fg;
            ctx.lineWidth = 3;
            const streets = 24;
            for (let i = 0; i < streets; i++) {
                const angle = (Math.PI * 2 / streets) * i;
                const x1 = centerX + Math.cos(angle) * 100;
                const y1 = centerY + Math.sin(angle) * 100;
                const x2 = centerX + Math.cos(angle) * 280 * scale;
                const y2 = centerY + Math.sin(angle) * 280 * scale;
                
                ctx.beginPath();
                ctx.moveTo(x1, y1);
                ctx.lineTo(x2, y2);
                ctx.stroke();
            }

            ctx.fillStyle = colors.fg;
            ctx.beginPath();
            ctx.arc(centerX, centerY, 12, 0, Math.PI * 2);
            ctx.fill();

            drawPosterText(ctx, width, height, colors);
        }

        function drawStarPoster(ctx, width, height, colors) {
            ctx.fillStyle = colors.fg;
            
            const numStars = 300;
            for (let i = 0; i < numStars; i++) {
                const x = Math.random() * width;
                const y = Math.random() * (height * 0.65);
                const size = Math.random() * 3 + 0.5;
                
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }

            ctx.strokeStyle = colors.accent;
            ctx.lineWidth = 2;
            
            constellations.forEach(constellation => {
                ctx.beginPath();
                constellation.stars.forEach((star, i) => {
                    const [x, y] = star;
                    if (i === 0) {
                        ctx.moveTo(x * 2.5, y * 2.5);
                    } else {
                        ctx.lineTo(x * 2.5, y * 2.5);
                    }
                });
                ctx.stroke();

                ctx.fillStyle = colors.fg;
                constellation.stars.forEach(star => {
                    const [x, y] = star;
                    ctx.beginPath();
                    ctx.arc(x * 2.5, y * 2.5, 5, 0, Math.PI * 2);
                    ctx.fill();
                });
            });

            drawPosterText(ctx, width, height, colors);
        }

        function drawTypographyPoster(ctx, width, height, colors) {
            ctx.strokeStyle = colors.accent;
            ctx.lineWidth = 2;
            
            const spacing = 80;
            for (let i = 0; i < 8; i++) {
                ctx.strokeRect(100 + i * spacing, 100 + i * spacing, 
                             width - 200 - i * spacing * 2, height - 200 - i * spacing * 2);
            }

            const title = document.getElementById('titleInput').value;
            const subtitle = document.getElementById('subtitleInput').value;

            ctx.fillStyle = colors.fg;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            ctx.font = `bold ${state.fontSize * 2.5}px Arial, sans-serif`;
            ctx.fillText(title, width / 2, height / 2 - 80);
            
            ctx.font = `${state.fontSize}px Arial, sans-serif`;
            ctx.fillText(subtitle, width / 2, height / 2 + 80);
        }

        function drawPosterText(ctx, width, height, colors) {
            const title = document.getElementById('titleInput').value;
            const subtitle = document.getElementById('subtitleInput').value;

            ctx.fillStyle = colors.fg;
            ctx.textAlign = 'center';
            ctx.font = `bold ${state.fontSize * 1.2}px Arial, sans-serif`;
            ctx.fillText(title, width / 2, height - 280);

            ctx.font = `${state.fontSize * 0.6}px Arial, sans-serif`;
            ctx.fillText(subtitle, width / 2, height - 180);

            ctx.strokeStyle = colors.fg;
            ctx.lineWidth = 4;
            ctx.strokeRect(30, 30, width - 60, height - 60);
        }

        function exportPoster(format) {
            const canvas = document.getElementById('posterCanvas');
            const link = document.createElement('a');
            link.download = `poster_${Date.now()}.${format}`;
            link.href = canvas.toDataURL(`image/${format}`, 1.0);
            link.click();
        }

        // Initial draw
        drawPoster();
    </script>
</body>
</html>
